$background-color: #fff !default;
$link-color: #333 !default;
$link-color-active: #55abad !default;
$link-underline-color: $link-color !default;
$link-underline-color-active: $link-color-active !default;
$link-underline-width: 1px !default;
$link-underline-offset: 2px !default;
$breaking-underlines: true !default;

=underline($color: $link-underline-color, $weight: $link-underline-width, $offset: $link-underline-offset)
  background-image: linear-gradient(bottom, transparent, transparent $offset, $color $offset, $color ($offset + $weight), transparent ($offset + $weight))

a.custom
  text-decoration: none
  position: relative
  @if $breaking-underlines
    text-shadow: -1px -1px 0 $background-color, 1px -1px 0 $background-color, -1px 1px 0 $background-color, 1px 1px 0 $background-color
  +underline($link-color)
  @media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)
    +underline($link-color, 0.5)
  &:hover, &:focus
    +underline($link-color-active)
    @media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi)
      +underline($link-color-active, 0.5) 
